version: 1
applications:
  - frontend:
      phases:
        preBuild:
          commands:
            - node -v
            - npm ci
        build:
          commands:
            - npm run build
      artifacts:
        baseDirectory: dist
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*
    appRoot: /
    Source address:  /<*>
    Target address:  /index.html
    Type:            200 (Rewrite)

    environment:
      variables: 
        VITE_API_BASE_URL: "https://api.sukadex.net/api/v1" 
    # Si te pide Runtime explÃ­cito:
    # NOTE: algunas cuentas requieren 'frontend->phases->preBuild' con 'nvm use 20'
